<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Extensions · CommonMark.jl</title><meta name="title" content="Extensions · CommonMark.jl"/><meta property="og:title" content="Extensions · CommonMark.jl"/><meta property="twitter:title" content="Extensions · CommonMark.jl"/><meta name="description" content="Documentation for CommonMark.jl."/><meta property="og:description" content="Documentation for CommonMark.jl."/><meta property="twitter:description" content="Documentation for CommonMark.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CommonMark.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../core/">Core Rules</a></li><li class="is-active"><a class="tocitem" href>Extensions</a><ul class="internal"><li><a class="tocitem" href="#Tables"><span>Tables</span></a></li><li><a class="tocitem" href="#Grid-Tables"><span>Grid Tables</span></a></li><li><a class="tocitem" href="#Definition-Lists"><span>Definition Lists</span></a></li><li><a class="tocitem" href="#Admonitions"><span>Admonitions</span></a></li><li><a class="tocitem" href="#Footnotes"><span>Footnotes</span></a></li><li><a class="tocitem" href="#Typography"><span>Typography</span></a></li><li><a class="tocitem" href="#Math"><span>Math</span></a></li><li><a class="tocitem" href="#Attributes"><span>Attributes</span></a></li><li><a class="tocitem" href="#Strikethrough"><span>Strikethrough</span></a></li><li><a class="tocitem" href="#Mark"><span>Mark</span></a></li><li><a class="tocitem" href="#Subscript"><span>Subscript</span></a></li><li><a class="tocitem" href="#Superscript"><span>Superscript</span></a></li><li><a class="tocitem" href="#Task-Lists"><span>Task Lists</span></a></li><li><a class="tocitem" href="#GitHub-Alerts"><span>GitHub Alerts</span></a></li><li><a class="tocitem" href="#Fenced-Divs"><span>Fenced Divs</span></a></li><li><a class="tocitem" href="#Front-Matter"><span>Front Matter</span></a></li><li><a class="tocitem" href="#Citations"><span>Citations</span></a></li><li><a class="tocitem" href="#Auto-Identifiers"><span>Auto Identifiers</span></a></li><li><a class="tocitem" href="#Reference-Links"><span>Reference Links</span></a></li><li><a class="tocitem" href="#Raw-Content"><span>Raw Content</span></a></li><li><a class="tocitem" href="#Shortcodes"><span>Shortcodes</span></a></li><li><a class="tocitem" href="#String-Macro"><span>String Macro</span></a></li><li><a class="tocitem" href="#Docstring-Parser"><span>Docstring Parser</span></a></li></ul></li><li><a class="tocitem" href="../ast/">Building ASTs</a></li><li><a class="tocitem" href="../transforms/">Transforms</a></li><li><a class="tocitem" href="../developing/">Developing Extensions</a></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Extensions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Extensions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MichaelHatherly/CommonMark.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MichaelHatherly/CommonMark.jl/blob/master/docs/src/extensions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="extensions-page"><a class="docs-heading-anchor" href="#extensions-page">Extensions</a><a id="extensions-page-1"></a><a class="docs-heading-anchor-permalink" href="#extensions-page" title="Permalink"></a></h1><p>Extensions add syntax beyond the CommonMark specification. They must be explicitly enabled with <a href="../api/#CommonMark.enable!-Tuple{CommonMark.AbstractParser, Any}"><code>enable!</code></a>.</p><pre><code class="language-julia hljs">using CommonMark</code></pre><h2 id="Tables"><a class="docs-heading-anchor" href="#Tables">Tables</a><a id="Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Tables" title="Permalink"></a></h2><p>Pipe-style tables from GitHub Flavored Markdown. Tables require a header row and a separator row that defines column alignment.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, TableRule())

ast = parser(&quot;&quot;&quot;
| Column One | Column Two | Column Three |
|:---------- | ---------- |:------------:|
| Row `1`    | Column `2` |              |
| *Row* 2    | **Row** 2  | Column 3     |
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=\&quot;left\&quot;&gt;Column One&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;Column Two&lt;/th&gt;&lt;th align=\&quot;center\&quot;&gt;Column Three&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;Row &lt;code&gt;1&lt;/code&gt;&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;Column &lt;code&gt;2&lt;/code&gt;&lt;/td&gt;&lt;td align=\&quot;center\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;&lt;em&gt;Row&lt;/em&gt; 2&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;&lt;strong&gt;Row&lt;/strong&gt; 2&lt;/td&gt;&lt;td align=\&quot;center\&quot;&gt;Column 3&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</code></pre><p>Alignment is set with colons in the separator: <code>:---</code> left, <code>---:</code> right, <code>:---:</code> center. Cells can contain inline formatting. Escape literal pipes with backslashes.</p><h2 id="Grid-Tables"><a class="docs-heading-anchor" href="#Grid-Tables">Grid Tables</a><a id="Grid-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Grid-Tables" title="Permalink"></a></h2><p>Pandoc-compatible grid tables for multi-line cells, colspan, rowspan, and block content within cells. More powerful than pipe tables but with heavier syntax.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, GridTableRule())

ast = parser(&quot;&quot;&quot;
+-------+-------+-------+
| Head1 | Head2 | Head3 |
+=======+=======+=======+
| Body1 | Body2 | Body3 |
+-------+-------+-------+
| Row 2 | Row 2 | Row 2 |
+-------+-------+-------+
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Head1&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Head2&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Head3&lt;/p&gt;\n&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Body1&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Body2&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Body3&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Row 2&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Row 2&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Row 2&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</code></pre><h3 id="Multi-line-Cells"><a class="docs-heading-anchor" href="#Multi-line-Cells">Multi-line Cells</a><a id="Multi-line-Cells-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-line-Cells" title="Permalink"></a></h3><p>Cells can span multiple lines and contain block content like paragraphs, lists, and code blocks.</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
+----------+----------+
| Line one | Single   |
| Line two |          |
+==========+==========+
| Body     | - Item 1 |
|          | - Item 2 |
+----------+----------+
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Line one\nLine two&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Single&lt;/p&gt;\n&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Body&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;ul&gt;\n&lt;li&gt;Item 1&lt;/li&gt;\n&lt;li&gt;Item 2&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</code></pre><h3 id="Colspan-and-Rowspan"><a class="docs-heading-anchor" href="#Colspan-and-Rowspan">Colspan and Rowspan</a><a id="Colspan-and-Rowspan-1"></a><a class="docs-heading-anchor-permalink" href="#Colspan-and-Rowspan" title="Permalink"></a></h3><p>Omitting <code>+</code> in a border merges cells horizontally (colspan). Partial borders between rows merge cells vertically (rowspan).</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
+----------+----------------------+
| Location | Temperature          |
|          +------+------+--------+
|          | min  | mean | max    |
+==========+======+======+========+
| Chicago  | -10  | 15   | 35     |
+----------+------+------+--------+
| Berlin   | -5   | 12   | 30     |
+----------+------+------+--------+
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=\&quot;left\&quot; rowspan=\&quot;2\&quot;&gt;\n&lt;p&gt;Location&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot; colspan=\&quot;3\&quot;&gt;\n&lt;p&gt;Temperature&lt;/p&gt;\n&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;min&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;mean&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;max&lt;/p&gt;\n&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Chicago&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;-10&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;15&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;35&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Berlin&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;-5&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;12&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;30&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</code></pre><p>Here &quot;Location&quot; spans two rows and &quot;Temperature&quot; spans three columns.</p><h3 id="Footer"><a class="docs-heading-anchor" href="#Footer">Footer</a><a id="Footer-1"></a><a class="docs-heading-anchor-permalink" href="#Footer" title="Permalink"></a></h3><p>Enclose the last rows with <code>=</code> separators to create a <code>&lt;tfoot&gt;</code> section.</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
+-------+-------+
| Head1 | Head2 |
+=======+=======+
| Body1 | Body2 |
+=======+=======+
| Foot1 | Foot2 |
+=======+=======+
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Head1&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Head2&lt;/p&gt;\n&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Body1&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Body2&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;tfoot&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Foot1&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Foot2&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;&lt;/table&gt;&quot;</code></pre><h3 id="Nested-Tables"><a class="docs-heading-anchor" href="#Nested-Tables">Nested Tables</a><a id="Nested-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Nested-Tables" title="Permalink"></a></h3><p>Cells can contain nested grid tables.</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
+-------------------------+---------------+
| Outer Left              | Outer Right   |
+=========================+===============+
| +------+------+         | Regular cell  |
| | A    | B    |         |               |
| +------+------+         |               |
| | C    | D    |         |               |
| +------+------+         |               |
+-------------------------+---------------+
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Outer Left&lt;/p&gt;\n&lt;/th&gt;&lt;th align=\&quot;left\&quot;&gt;\n&lt;p&gt;Outer Right&lt;/p&gt;\n&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;A&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;B&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;C&lt;/p&gt;\n&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;D&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&lt;td align=\&quot;left\&quot;&gt;\n&lt;p&gt;Regular cell&lt;/p&gt;\n&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</code></pre><h2 id="Definition-Lists"><a class="docs-heading-anchor" href="#Definition-Lists">Definition Lists</a><a id="Definition-Lists-1"></a><a class="docs-heading-anchor-permalink" href="#Definition-Lists" title="Permalink"></a></h2><p>Pandoc-compatible definition lists. Terms are plain text lines followed by definitions marked with <code>:</code> and 1–3 spaces.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, DefinitionListRule())

ast = parser(&quot;&quot;&quot;
Term
:   Definition of the term.
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;dl&gt;\n&lt;dt&gt;Term&lt;/dt&gt;\n&lt;dd&gt;\nDefinition of the term.&lt;/dd&gt;\n&lt;/dl&gt;\n&quot;</code></pre><h3 id="Multiple-Definitions"><a class="docs-heading-anchor" href="#Multiple-Definitions">Multiple Definitions</a><a id="Multiple-Definitions-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-Definitions" title="Permalink"></a></h3><p>A term can have several definitions.</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
Term
:   First definition.
:   Second definition.
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;dl&gt;\n&lt;dt&gt;Term&lt;/dt&gt;\n&lt;dd&gt;\nFirst definition.&lt;/dd&gt;\n&lt;dd&gt;\nSecond definition.&lt;/dd&gt;\n&lt;/dl&gt;\n&quot;</code></pre><h3 id="Multiple-Terms"><a class="docs-heading-anchor" href="#Multiple-Terms">Multiple Terms</a><a id="Multiple-Terms-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-Terms" title="Permalink"></a></h3><p>Separate groups with blank lines. Adjacent groups merge into a single list.</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
Apple
:   A fruit.

Orange
:   Another fruit.
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;dl&gt;\n&lt;dt&gt;Apple&lt;/dt&gt;\n&lt;dd&gt;\nA fruit.&lt;/dd&gt;\n&lt;dt&gt;Orange&lt;/dt&gt;\n&lt;dd&gt;\nAnother fruit.&lt;/dd&gt;\n&lt;/dl&gt;\n&quot;</code></pre><h3 id="Loose-Definitions"><a class="docs-heading-anchor" href="#Loose-Definitions">Loose Definitions</a><a id="Loose-Definitions-1"></a><a class="docs-heading-anchor-permalink" href="#Loose-Definitions" title="Permalink"></a></h3><p>A blank line between the term and <code>:</code> wraps content in <code>&lt;p&gt;</code> tags.</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
Term

:   Loose definition.
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;dl&gt;\n&lt;dt&gt;Term&lt;/dt&gt;\n&lt;dd&gt;\n&lt;p&gt;Loose definition.&lt;/p&gt;\n&lt;/dd&gt;\n&lt;/dl&gt;\n&quot;</code></pre><h3 id="Block-Content"><a class="docs-heading-anchor" href="#Block-Content">Block Content</a><a id="Block-Content-1"></a><a class="docs-heading-anchor-permalink" href="#Block-Content" title="Permalink"></a></h3><p>Definitions can contain multiple paragraphs, lists, and other block elements. Continuation lines are indented by 4 spaces.</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
Term
:   First paragraph.

    Second paragraph.

    - item one
    - item two
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;dl&gt;\n&lt;dt&gt;Term&lt;/dt&gt;\n&lt;dd&gt;\n&lt;p&gt;First paragraph.&lt;/p&gt;\n&lt;p&gt;Second paragraph.&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;item one&lt;/li&gt;\n&lt;li&gt;item two&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/dd&gt;\n&lt;/dl&gt;\n&quot;</code></pre><h2 id="Admonitions"><a class="docs-heading-anchor" href="#Admonitions">Admonitions</a><a id="Admonitions-1"></a><a class="docs-heading-anchor-permalink" href="#Admonitions" title="Permalink"></a></h2><p>Callout boxes for notes, warnings, tips, and other highlighted content. Common in technical documentation.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, AdmonitionRule())

ast = parser(&quot;&quot;&quot;
!!! note &quot;Custom Title&quot;
    This is an admonition block.

!!! warning
    Title defaults to category name.
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;div class=\&quot;admonition note\&quot;&gt;&lt;p class=\&quot;admonition-title\&quot;&gt;Custom Title&lt;/p&gt;\n&lt;p&gt;This is an admonition block.&lt;/p&gt;\n&lt;/div&gt;&lt;div class=\&quot;admonition warning\&quot;&gt;&lt;p class=\&quot;admonition-title\&quot;&gt;Warning&lt;/p&gt;\n&lt;p&gt;Title defaults to category name.&lt;/p&gt;\n&lt;/div&gt;&quot;</code></pre><p>The category (note, warning, tip, etc.) determines styling. An optional quoted string overrides the title. Content must be indented by 4 spaces.</p><h2 id="Footnotes"><a class="docs-heading-anchor" href="#Footnotes">Footnotes</a><a id="Footnotes-1"></a><a class="docs-heading-anchor-permalink" href="#Footnotes" title="Permalink"></a></h2><p>Reference-style footnotes that collect at the end of the document. Useful for citations, asides, and additional context without interrupting flow.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, FootnoteRule())

ast = parser(&quot;&quot;&quot;
Here is a footnote reference[^1].

[^1]: This is the footnote content.
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Here is a footnote reference&lt;a href=\&quot;#footnote-1\&quot; class=\&quot;footnote\&quot;&gt;1&lt;/a&gt;.&lt;/p&gt;\n&lt;div class=\&quot;footnote\&quot; id=\&quot;footnote-1\&quot;&gt;&lt;p class=\&quot;footnote-title\&quot;&gt;1&lt;/p&gt;\n&lt;p&gt;This is the footnote content.&lt;/p&gt;\n&lt;/div&gt;&quot;</code></pre><p>Footnote identifiers can be any word or number. Definitions can appear anywhere in the document and will be collected at the end.</p><h2 id="Typography"><a class="docs-heading-anchor" href="#Typography">Typography</a><a id="Typography-1"></a><a class="docs-heading-anchor-permalink" href="#Typography" title="Permalink"></a></h2><p>Converts ASCII punctuation to proper typographic characters. Makes documents look more polished without requiring special input.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, TypographyRule())

ast = parser(&quot;\&quot;Hello\&quot; -- Pro tip... use &#39;single quotes&#39; too --- or not.&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;“Hello” – Pro tip… use ‘single quotes’ too — or not.&lt;/p&gt;\n&quot;</code></pre><p>Conversions: straight quotes to curly quotes, <code>...</code> to ellipsis, <code>--</code> to en-dash, <code>---</code> to em-dash. Disable specific conversions with keyword arguments:</p><pre><code class="language-julia hljs">enable!(parser, TypographyRule(double_quotes=false, dashes=false))</code></pre><h2 id="Math"><a class="docs-heading-anchor" href="#Math">Math</a><a id="Math-1"></a><a class="docs-heading-anchor-permalink" href="#Math" title="Permalink"></a></h2><p>LaTeX math expressions for technical and scientific documents.</p><h3 id="Julia-style-(double-backticks)"><a class="docs-heading-anchor" href="#Julia-style-(double-backticks)">Julia-style (double backticks)</a><a id="Julia-style-(double-backticks)-1"></a><a class="docs-heading-anchor-permalink" href="#Julia-style-(double-backticks)" title="Permalink"></a></h3><p>Uses double backticks for inline math, matching Julia&#39;s docstring convention. Display math uses fenced code blocks with <code>math</code> as the language.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, MathRule())

ast = parser(&quot;Inline ``E = mc^2`` math.&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Inline &lt;span class=\&quot;math tex\&quot;&gt;\\(E = mc^2\\)&lt;/span&gt; math.&lt;/p&gt;\n&quot;</code></pre><p>Display math with fenced blocks:</p><pre><code class="language-julia hljs">ast = parser(&quot;&quot;&quot;
```math
\\int_0^\\infty e^{-x^2} dx
```
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;div class=\&quot;display-math tex\&quot;&gt;\\[\\int_0^\\infty e^{-x^2} dx\\]&lt;/div&gt;&quot;</code></pre><h3 id="Dollar-style"><a class="docs-heading-anchor" href="#Dollar-style">Dollar-style</a><a id="Dollar-style-1"></a><a class="docs-heading-anchor-permalink" href="#Dollar-style" title="Permalink"></a></h3><p>Traditional LaTeX syntax with single <code>$</code> for inline and double <code>$$</code> for display. More familiar to users coming from LaTeX or other markdown flavors.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, DollarMathRule())

ast = parser(&quot;Inline \$E = mc^2\$ math.&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Inline &lt;span class=\&quot;math tex\&quot;&gt;\\(E = mc^2\\)&lt;/span&gt; math.&lt;/p&gt;\n&quot;</code></pre><h2 id="Attributes"><a class="docs-heading-anchor" href="#Attributes">Attributes</a><a id="Attributes-1"></a><a class="docs-heading-anchor-permalink" href="#Attributes" title="Permalink"></a></h2><p>Attach IDs, classes, and arbitrary key-value pairs to elements. Useful for styling, linking, and integrating with JavaScript.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, AttributeRule())

ast = parser(&quot;&quot;&quot;
{#my-id .highlight}
# Heading
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;h1 class=\&quot;highlight\&quot; id=\&quot;my-id\&quot;&gt;&lt;a href=\&quot;#my-id\&quot; class=\&quot;anchor\&quot;&gt;&lt;/a&gt;Heading&lt;/h1&gt;\n&quot;</code></pre><p>Block attributes go above the target element. Inline attributes go after:</p><pre><code class="language-julia hljs">ast = parser(&quot;*text*{.important}&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;&lt;em class=\&quot;important\&quot;&gt;text&lt;/em&gt;&lt;/p&gt;\n&quot;</code></pre><p>CSS shorthand: <code>#foo</code> expands to <code>id=&quot;foo&quot;</code>, <code>.bar</code> expands to <code>class=&quot;bar&quot;</code>.</p><h2 id="Strikethrough"><a class="docs-heading-anchor" href="#Strikethrough">Strikethrough</a><a id="Strikethrough-1"></a><a class="docs-heading-anchor-permalink" href="#Strikethrough" title="Permalink"></a></h2><p>Marks deleted or outdated text. Renders as <code>&lt;del&gt;</code> in HTML.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, StrikethroughRule())

ast = parser(&quot;~~deleted text~~&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;&lt;del&gt;deleted text&lt;/del&gt;&lt;/p&gt;\n&quot;</code></pre><h2 id="Mark"><a class="docs-heading-anchor" href="#Mark">Mark</a><a id="Mark-1"></a><a class="docs-heading-anchor-permalink" href="#Mark" title="Permalink"></a></h2><p>Highlights important text. Renders as <code>&lt;mark&gt;</code> in HTML. Follows Pandoc&#39;s <code>+mark</code> extension syntax.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, MarkRule())

ast = parser(&quot;This is ==highlighted text==.&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;This is &lt;mark&gt;highlighted text&lt;/mark&gt;.&lt;/p&gt;\n&quot;</code></pre><p>Uses double equals signs. Single equals are unaffected (for code examples like <code>a = b</code>).</p><h2 id="Subscript"><a class="docs-heading-anchor" href="#Subscript">Subscript</a><a id="Subscript-1"></a><a class="docs-heading-anchor-permalink" href="#Subscript" title="Permalink"></a></h2><p>Chemical formulas, mathematical notation, and other subscripted text.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, SubscriptRule())

ast = parser(&quot;H~2~O&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;H&lt;sub&gt;2&lt;/sub&gt;O&lt;/p&gt;\n&quot;</code></pre><p>Can be combined with <code>StrikethroughRule</code> since they use different tilde counts (single vs double).</p><h2 id="Superscript"><a class="docs-heading-anchor" href="#Superscript">Superscript</a><a id="Superscript-1"></a><a class="docs-heading-anchor-permalink" href="#Superscript" title="Permalink"></a></h2><p>Exponents, ordinals, and other superscripted text.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, SuperscriptRule())

ast = parser(&quot;x^2^&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;x&lt;sup&gt;2&lt;/sup&gt;&lt;/p&gt;\n&quot;</code></pre><h2 id="Task-Lists"><a class="docs-heading-anchor" href="#Task-Lists">Task Lists</a><a id="Task-Lists-1"></a><a class="docs-heading-anchor-permalink" href="#Task-Lists" title="Permalink"></a></h2><p>Interactive checklists from GitHub Flavored Markdown. Useful for todo lists and progress tracking.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, TaskListRule())

ast = parser(&quot;&quot;&quot;
- [ ] Unchecked
- [x] Checked
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;ul&gt;\n&lt;li&gt;&lt;input type=\&quot;checkbox\&quot; disabled&gt; Unchecked&lt;/li&gt;\n&lt;li&gt;&lt;input type=\&quot;checkbox\&quot; disabled checked&gt; Checked&lt;/li&gt;\n&lt;/ul&gt;\n&quot;</code></pre><h2 id="GitHub-Alerts"><a class="docs-heading-anchor" href="#GitHub-Alerts">GitHub Alerts</a><a id="GitHub-Alerts-1"></a><a class="docs-heading-anchor-permalink" href="#GitHub-Alerts" title="Permalink"></a></h2><p>Styled callouts matching GitHub&#39;s markdown alerts. Similar to admonitions but with GitHub&#39;s specific syntax and categories.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, GitHubAlertRule())

ast = parser(&quot;&quot;&quot;
&gt; [!NOTE]
&gt; Useful information.

&gt; [!WARNING]
&gt; Important warning.
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;div class=\&quot;github-alert note\&quot;&gt;&lt;p class=\&quot;github-alert-title\&quot;&gt;Note&lt;/p&gt;\n&lt;p&gt;Useful information.&lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;github-alert warning\&quot;&gt;&lt;p class=\&quot;github-alert-title\&quot;&gt;Warning&lt;/p&gt;\n&lt;p&gt;Important warning.&lt;/p&gt;\n&lt;/div&gt;\n&quot;</code></pre><p>Supported types: NOTE, TIP, IMPORTANT, WARNING, CAUTION.</p><h2 id="Fenced-Divs"><a class="docs-heading-anchor" href="#Fenced-Divs">Fenced Divs</a><a id="Fenced-Divs-1"></a><a class="docs-heading-anchor-permalink" href="#Fenced-Divs" title="Permalink"></a></h2><p>Generic containers from Pandoc. Wrap arbitrary content in a div with classes and attributes. Useful for custom styling and semantic markup.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, FencedDivRule())

ast = parser(&quot;&quot;&quot;
::: warning
This is a warning.
:::
&quot;&quot;&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;div class=\&quot;warning\&quot;&gt;\n&lt;p&gt;This is a warning.&lt;/p&gt;\n&lt;/div&gt;\n&quot;</code></pre><p>Divs can be nested by using more colons for outer fences.</p><h2 id="Front-Matter"><a class="docs-heading-anchor" href="#Front-Matter">Front Matter</a><a id="Front-Matter-1"></a><a class="docs-heading-anchor-permalink" href="#Front-Matter" title="Permalink"></a></h2><p>Structured metadata at the start of a document. Commonly used for titles, authors, dates, and configuration in static site generators.</p><pre><code class="language-julia hljs">using YAML

parser = Parser()
enable!(parser, FrontMatterRule(yaml=YAML.load))

ast = parser(&quot;&quot;&quot;
---
title: My Document
author: Jane Doe
---

Content here.
&quot;&quot;&quot;)
frontmatter(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{String, Any} with 2 entries:
  &quot;author&quot; =&gt; &quot;Jane Doe&quot;
  &quot;title&quot;  =&gt; &quot;My Document&quot;</code></pre><p>The <code>frontmatter(ast)</code> function extracts metadata as a dictionary. Returns an empty dict if no front matter is present.</p><p>Delimiters determine format: <code>---</code> for YAML, <code>+++</code> for TOML, <code>;;;</code> for JSON. Pass the appropriate parser function for each format you want to support.</p><h2 id="Citations"><a class="docs-heading-anchor" href="#Citations">Citations</a><a id="Citations-1"></a><a class="docs-heading-anchor-permalink" href="#Citations" title="Permalink"></a></h2><p>Academic-style citations with Pandoc syntax. Requires bibliography data in CSL-JSON format passed to the writer.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, CitationRule())

ast = parser(&quot;According to @doe2020, this is true.&quot;)

# Bibliography as CSL-JSON array
bib = [Dict(
    &quot;id&quot; =&gt; &quot;doe2020&quot;,
    &quot;author&quot; =&gt; [Dict(&quot;family&quot; =&gt; &quot;Doe&quot;, &quot;given&quot; =&gt; &quot;Jane&quot;)],
    &quot;title&quot; =&gt; &quot;Example Article&quot;,
    &quot;issued&quot; =&gt; Dict(&quot;date-parts&quot; =&gt; [[2020]])
)]
html(ast, Dict{String,Any}(&quot;references&quot; =&gt; bib))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;According to &lt;span class=\&quot;citation\&quot;&gt;&lt;a href=\&quot;#ref-doe2020\&quot;&gt;Doe 2020&lt;/a&gt;&lt;/span&gt;, this is true.&lt;/p&gt;\n&quot;</code></pre><p>Bracketed syntax groups multiple citations: <code>[@doe2020; @smith2021]</code>. Brackets render as parentheses in the output.</p><h2 id="Auto-Identifiers"><a class="docs-heading-anchor" href="#Auto-Identifiers">Auto Identifiers</a><a id="Auto-Identifiers-1"></a><a class="docs-heading-anchor-permalink" href="#Auto-Identifiers" title="Permalink"></a></h2><p>Automatically generates IDs for headings based on their text. Enables linking directly to sections.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, AutoIdentifierRule())

ast = parser(&quot;# My Heading&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;h1 id=\&quot;my-heading\&quot;&gt;&lt;a href=\&quot;#my-heading\&quot; class=\&quot;anchor\&quot;&gt;&lt;/a&gt;My Heading&lt;/h1&gt;\n&quot;</code></pre><p>IDs are slugified: lowercased, spaces become hyphens, special characters removed. Duplicate headings get numeric suffixes.</p><h2 id="Reference-Links"><a class="docs-heading-anchor" href="#Reference-Links">Reference Links</a><a id="Reference-Links-1"></a><a class="docs-heading-anchor-permalink" href="#Reference-Links" title="Permalink"></a></h2><p>Preserves reference-style link syntax in the AST instead of resolving it during parsing. Enables accurate markdown roundtripping and detection of undefined references.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, ReferenceLinkRule())

ast = parser(&quot;&quot;&quot;
[full style][ref]
[collapsed style][]
[shortcut style]

[ref]: https://example.com
[collapsed style]: /url
[shortcut style]: /url
&quot;&quot;&quot;)
markdown(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;[full style][ref]\n[collapsed style][]\n[shortcut style]\n\n[ref]: https://example.com\n\n[collapsed style]: /url\n\n[shortcut style]: /url\n&quot;</code></pre><p>The three reference styles are preserved:</p><ul><li><strong>Full</strong>: <code>[text][label]</code> - explicit label</li><li><strong>Collapsed</strong>: <code>[text][]</code> - label matches text</li><li><strong>Shortcut</strong>: <code>[text]</code> - implicit label</li></ul><h3 id="Detecting-Undefined-References"><a class="docs-heading-anchor" href="#Detecting-Undefined-References">Detecting Undefined References</a><a id="Detecting-Undefined-References-1"></a><a class="docs-heading-anchor-permalink" href="#Detecting-Undefined-References" title="Permalink"></a></h3><p>When enabled, undefined references become <code>UnresolvedReference</code> nodes instead of literal text. This enables tools to find broken links:</p><pre><code class="language-julia hljs">ast = parser(&quot;[undefined link][missing]&quot;)
for (node, entering) in ast
    if entering &amp;&amp; node.t isa CommonMark.UnresolvedReference
        ref = node.t
        println(&quot;Undefined: label=&#39;$(ref.label)&#39;, style=$(ref.style), image=$(ref.image)&quot;)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Undefined: label=&#39;missing&#39;, style=full, image=false</code></pre><h2 id="Raw-Content"><a class="docs-heading-anchor" href="#Raw-Content">Raw Content</a><a id="Raw-Content-1"></a><a class="docs-heading-anchor-permalink" href="#Raw-Content" title="Permalink"></a></h2><p>Pass format-specific content through unchanged. Useful for embedding LaTeX commands, HTML widgets, or other content that shouldn&#39;t be processed.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, RawContentRule())

ast = parser(&quot;Inline: `\\textbf{bold}`{=latex}\n\n```{=latex}\n\\begin{center}\nCentered\n\\end{center}\n```&quot;)</code></pre><p>Raw content only appears in its target format:</p><pre><code class="language-julia hljs">latex(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;Inline: \\textbf{bold}\\par\n\\begin{center}\nCentered\n\\end{center}\n&quot;</code></pre><pre><code class="language-julia hljs">html(ast)  # LaTeX content omitted</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Inline: &lt;/p&gt;\n&quot;</code></pre><p>The format name (<code>html</code>, <code>latex</code>, <code>typst</code>) is specified in the attribute. The parser automatically determines inline vs block from context. Custom formats can be added by passing type mappings to <code>RawContentRule</code>.</p><h2 id="Shortcodes"><a class="docs-heading-anchor" href="#Shortcodes">Shortcodes</a><a id="Shortcodes-1"></a><a class="docs-heading-anchor-permalink" href="#Shortcodes" title="Permalink"></a></h2><p>Lightweight macros that expand into content, inspired by Hugo and Quarto. Shortcodes use <code>{{&lt; name args &gt;}}</code> syntax by default. A standalone shortcode on its own line becomes a block-level node; otherwise it&#39;s inline.</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, ShortcodeRule())

ast = parser(&quot;Text {{&lt; ref page &gt;}} here.&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Text {{&lt; ref page &gt;}} here.&lt;/p&gt;\n&quot;</code></pre><p>Block shortcodes (standalone on a line):</p><pre><code class="language-julia hljs">ast = parser(&quot;{{&lt; pagebreak &gt;}}&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;{{&lt; pagebreak &gt;}}\n&quot;</code></pre><p>Unexpanded shortcodes pass through to output as-is, preserving the original syntax. This is useful when a downstream tool handles expansion.</p><h3 id="Parse-Time-Handlers"><a class="docs-heading-anchor" href="#Parse-Time-Handlers">Parse-Time Handlers</a><a id="Parse-Time-Handlers-1"></a><a class="docs-heading-anchor-permalink" href="#Parse-Time-Handlers" title="Permalink"></a></h3><p>Register handlers on the rule to expand shortcodes during parsing. Handlers receive <code>(name, args, ctx::ShortcodeContext)</code> and return a <code>Node</code>:</p><pre><code class="language-julia hljs">handlers = Dict{String,Function}(
    &quot;greeting&quot; =&gt; (name, args, ctx) -&gt; CommonMark.text(&quot;Hello, &quot; * args * &quot;!&quot;),
)
parser = Parser()
enable!(parser, ShortcodeRule(handlers=handlers))

ast = parser(&quot;Say {{&lt; greeting world &gt;}}.&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Say Hello, world!.&lt;/p&gt;\n&quot;</code></pre><p>The <code>ShortcodeContext</code> provides <code>source</code> (file path), <code>sourcepos</code>, and document <code>meta</code>. Unmatched shortcodes remain in the AST for write-time handling.</p><h3 id="Write-Time-Transforms"><a class="docs-heading-anchor" href="#Write-Time-Transforms">Write-Time Transforms</a><a id="Write-Time-Transforms-1"></a><a class="docs-heading-anchor-permalink" href="#Write-Time-Transforms" title="Permalink"></a></h3><p>For format-specific expansion, use the <a href="../transforms/#transforms-page">Transforms</a> system to dispatch on <code>Shortcode</code> or <code>ShortcodeBlock</code>:</p><pre><code class="language-julia hljs">function xform(::MIME&quot;text/html&quot;, sc::CommonMark.Shortcode, node, entering, writer)
    if sc.name == &quot;icon&quot;
        (CommonMark.Node(CommonMark.HtmlInline, &quot;&lt;i class=\&quot;icon-&quot; * sc.args * &quot;\&quot;&gt;&lt;/i&gt;&quot;), entering)
    else
        (node, entering)
    end
end
xform(mime, ::CommonMark.AbstractContainer, node, entering, writer) =
    (node, entering)

parser = Parser()
enable!(parser, ShortcodeRule())
ast = parser(&quot;Click {{&lt; icon star &gt;}} here.&quot;)
html(ast; transform=xform)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Click &lt;i class=\&quot;icon-star\&quot;&gt;&lt;/i&gt; here.&lt;/p&gt;\n&quot;</code></pre><h3 id="Custom-Delimiters"><a class="docs-heading-anchor" href="#Custom-Delimiters">Custom Delimiters</a><a id="Custom-Delimiters-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Delimiters" title="Permalink"></a></h3><p>Change delimiters to match other template systems:</p><pre><code class="language-julia hljs">parser = Parser()
enable!(parser, ShortcodeRule(open=&quot;{%&quot;, close=&quot;%}&quot;))

ast = parser(&quot;{% include header %}&quot;)
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;{% include header %}\n&quot;</code></pre><h2 id="String-Macro"><a class="docs-heading-anchor" href="#String-Macro">String Macro</a><a id="String-Macro-1"></a><a class="docs-heading-anchor-permalink" href="#String-Macro" title="Permalink"></a></h2><p>The <code>@cm_str</code> macro enables markdown string interpolation, embedding Julia expressions directly in markdown text.</p><pre><code class="language-julia hljs">using CommonMark

name = &quot;world&quot;
ast = cm&quot;Hello *$(name)*!&quot;
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Hello &lt;em&gt;&lt;span class=\&quot;julia-value\&quot;&gt;world&lt;/span&gt;&lt;/em&gt;!&lt;/p&gt;\n&quot;</code></pre><p>Expressions are captured during parsing and evaluated at runtime when the code executes. This is useful for generating markdown programmatically without manually constructing nodes.</p><h3 id="Default-Syntax-Rules"><a class="docs-heading-anchor" href="#Default-Syntax-Rules">Default Syntax Rules</a><a id="Default-Syntax-Rules-1"></a><a class="docs-heading-anchor-permalink" href="#Default-Syntax-Rules" title="Permalink"></a></h3><p>The macro enables several extensions by default, matching Julia&#39;s <code>@md_str</code>:</p><ul><li><code>AdmonitionRule</code></li><li><code>AttributeRule</code></li><li><code>AutoIdentifierRule</code></li><li><code>CitationRule</code></li><li><code>FootnoteRule</code></li><li><code>MathRule</code></li><li><code>RawContentRule</code></li><li><code>TableRule</code></li><li><code>TypographyRule</code></li></ul><div class="admonition is-warning" id="DollarMathRule-Conflict-3c3e8195a6416da9"><header class="admonition-header">DollarMathRule Conflict<a class="admonition-anchor" href="#DollarMathRule-Conflict-3c3e8195a6416da9" title="Permalink"></a></header><div class="admonition-body"><p><code>DollarMathRule</code> is NOT enabled because <code>$</code> is used for interpolation. Use double backticks (<code>``E=mc^2``</code>) or <code>math</code> code blocks instead.</p></div></div><h3 id="Custom-Parser"><a class="docs-heading-anchor" href="#Custom-Parser">Custom Parser</a><a id="Custom-Parser-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Parser" title="Permalink"></a></h3><p>Suffix the macro with a function name to use a custom parser:</p><pre><code class="language-julia hljs"># Define a minimal parser (no extensions)
minimal() = Parser()

text = &quot;plain&quot;
ast = cm&quot;Just $(text) markdown.&quot;minimal
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;Just &lt;span class=\&quot;julia-value\&quot;&gt;plain&lt;/span&gt; markdown.&lt;/p&gt;\n&quot;</code></pre><p>The suffix <code>none</code> invokes a basic parser with no extensions:</p><pre><code class="language-julia hljs">ast = cm&quot;No **extensions** here.&quot;none
html(ast)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;&lt;p&gt;No &lt;strong&gt;extensions&lt;/strong&gt; here.&lt;/p&gt;\n&quot;</code></pre><h2 id="Docstring-Parser"><a class="docs-heading-anchor" href="#Docstring-Parser">Docstring Parser</a><a id="Docstring-Parser-1"></a><a class="docs-heading-anchor-permalink" href="#Docstring-Parser" title="Permalink"></a></h2><div class="admonition is-warning" id="Experimental-3b492ae74d140cb1"><header class="admonition-header">Experimental<a class="admonition-anchor" href="#Experimental-3b492ae74d140cb1" title="Permalink"></a></header><div class="admonition-body"><p>This feature is experimental and subject to change without notice.</p></div></div><p>Render module docstrings with CommonMark formatting instead of Julia&#39;s default markdown parser.</p><pre><code class="language-julia hljs">module MyPackage

# ... docstrings ...

using CommonMark
CommonMark.@docstring_parser
end</code></pre><p>Call at module top-level after all docstrings are defined. Pass a custom parser to enable extensions:</p><pre><code class="language-julia hljs">CommonMark.@docstring_parser Parser(enable=[AdmonitionRule(), TableRule(), MathRule()])</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../core/">« Core Rules</a><a class="docs-footer-nextpage" href="../ast/">Building ASTs »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 10 February 2026 16:35">Tuesday 10 February 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
